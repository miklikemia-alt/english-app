import { supabase } from "./db.js";

// 注册
async function register(email, password) {
    const { data, error } = await supabase.auth.signUp({
        email,
        password
    });

    if (error) {
        alert("注册失败：" + error.message);
    } else {
        alert("注册成功！请去邮箱确认登录。");
    }
}

// 登录
async function login(email, password) {
    const { data, error } = await supabase.auth.signInWithPassword({
        email,
        password
    });

    if (error) {
        alert("登录失败：" + error.message);
    } else {
        alert("登录成功！");
        window.location.href = "index.html"; // 到首页
    }
}

export { register, login };
