<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8" />
  <title>仪表板</title>
</head>
<body>

<h2>欢迎回来！</h2>
<p id="userEmail"></p>

<button onclick="logout()">退出登录</button>

<br><br>
<a href="word.html">词汇学习</a>
<br>
<a href="grammar.html">语法学习</a>

<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js"></script>
<script src="auth.js"></script>

<script>
document.addEventListener("DOMContentLoaded", async function () {
    const { data } = await supabase.auth.getUser();
    if (!data.user) {
        window.location.href = "login.html";
        return;
    }
    document.getElementById("userEmail").innerText = "当前用户：" + data.user.email;
});
</script>

</body>
</html>
